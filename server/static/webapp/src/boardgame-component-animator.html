<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="boardgame-card-collection.html">

<dom-module id="boardgame-component-animator">
  <template>
    <boardgame-card-collection id='collection'></boardgame-card-collection>
  </template>

  <script>

    class BoardgameComponentAnimator extends Polymer.Element {
      static get is() {
        return "boardgame-component-animator"
      }

      static get properties() {
        return {
          _infoById: Object
        }
      }

      prepare() {

        var collections = this.$.collection._sharedCollectionList;

        var result = {};

        for (var i = 0; i < collections.length; i++) {
          var cards = collections[i].Cards;
          for (var j = 0; j < cards.length; j++) {
            var card = cards[j];
            var record = {};
            record.rect = card.getBoundingClientRect();
            record.transform = window.getComputedStyle(card).transform;
            record.faceUp = card.faceUp;
            //TODO: record the innerHTML
            result[card.id] = record;
          }
        }
        this._infoById = result;
      }

      animate() {
        console.log("animate called");
      }

    }

    customElements.define(BoardgameComponentAnimator.is, BoardgameComponentAnimator);

  </script>
</dom-module>
